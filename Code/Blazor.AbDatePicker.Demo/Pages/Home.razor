@page "/"
@using System.Text.Json
@using DayOfWeek = Blazor.AbDatePicker.DayOfWeek

<br/>
<div class="row">
    <div class="col-md-4">
        <h3>Datepicker</h3>
        <br/>
        <div class="row">
            <div class="form-group ">
                <label class="col-form-label">
                    Date (English - United Kingdom):
                    <AbDatepicker @bind-Value="SampleDate" Options="Options"></AbDatepicker>
                </label>
            </div>
            <div class="form-group ">
                <label class="col-form-label">
                    Selected Date:
                    <span class="alert alert-success">@SampleDate.Value.ToShortDateString()</span>
                </label>
            </div>
        </div>
        <br/>
    </div>
    <div class="col-md-8">
        <h3>Options</h3>
        <br/>
        <div class="row">
            <div class="form-group col-sm-6">
                <label class="col-form-label">Themes:</label>
                <select @bind="Options.Theme" class="form-control">
                    @foreach (var item in Enum.GetValues(typeof(Theme)))
                    {
                        <option value="@item">@item</option>
                    }
                </select>
            </div>
            <div class="form-group col-sm-6">
                <label class="col-form-label">Start view:</label>
                <select @bind="Options.StartView" class="form-control">
                    @foreach (var item in Enum.GetValues(typeof(StartView)))
                    {
                        <option value="@item">@item</option>
                    }
                </select>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-form-label">
                    weekDayFormat:
                    two check boxes
                </label>
            </div>
            <div class="form-group col-sm-6">
                <label class="col-form-label">First day of week:</label>
                <select @bind="Options.FirstDayOfWeek" class="form-control">
                    @foreach (var item in Enum.GetValues(typeof(DayOfWeek)))
                    {
                        <option value="@item">@item</option>
                    }
                </select>
            </div>
            <div class="form-group col-sm-6">
                <label class="col-form-label">Days of week disabled:</label>
                <SelectMultipleEnum @bind-Value="Options.DisabledDayOfWeek" Multiple="true" Title="Days of week disabled" ClassNames="form-control" />
            </div>
            <div class="form-group col-sm-6">
                <label class="col-form-label">Input formats:</label>
                <SelectMultiple @bind-Value="Options.InputFormats" Multiple="true" Title="Input formats" ClassNames="form-control">
                    <option value="dd-MM-yyyy" selected="selected">dd-MM-yyyy</option>
                    <option value="M/d/y">M/d/y</option>
                    <option value="M-d-y">M-d-y</option>
                    <option value="yyyy-MM-dd">yyyy-MM-dd</option>
                    <option value="yyyy/MM/dd">yyyy/MM/dd</option>
                    <option value="d/M/y">d/M/y</option>
                    <option value="d-M-y">d-M-y</option>
                    <option value="d.M.y">d.M.y</option>
                    <option value="ddMMy">ddMMy</option>
                    <option value="yyyy.MM.dd">yyyy.MM.dd</option>
                </SelectMultiple>
            </div>
            <div class="form-group col-sm-6">
                <label class="col-form-label">Output format:</label>
                <select @bind="Options.OutputFormat" class="form-control" title="Output format" size="3">
                    <option value="dd-MM-yyyy" selected="selected">dd-MM-yyyy</option>
                    <option value="M/d/y">M/d/y</option>
                    <option value="M-d-y">M-d-y</option>
                    <option value="yyyy-MM-dd">yyyy-MM-dd</option>
                    <option value="yyyy/MM/dd">yyyy/MM/dd</option>
                    <option value="d/M/y">d/M/y</option>
                    <option value="d-M-y">d-M-y</option>
                    <option value="d.M.y">d.M.y</option>
                    <option value="ddMMy">ddMMy</option>
                    <option value="yyyy.MM.dd">yyyy.MM.dd</option>
                </select>
            </div>
            <div class="form-group col-sm-6">
                <label class="col-form-label">Min date:</label>
                <input @bind="Options.MinDate" id="date-options-max" name="date-options-max" class="form-control" type="date">
                @*                <AbDatepicker @bind-Value="Options.MinDate" Options="_elemOptions"/>*@
            </div>
            @*<div class="form-group col-sm-6">
                <label class="col-form-label">Output format:</label>
                <select @bind="Options.OutputFormat" class="form-control" title="Output format" size="3">
                    <option value="dd-MM-yyyy" selected="selected">dd-MM-yyyy</option>
                    <option value="M/d/y">M/d/y</option>
                    <option value="M-d-y">M-d-y</option>
                    <option value="yyyy-MM-dd">yyyy-MM-dd</option>
                    <option value="yyyy/MM/dd">yyyy/MM/dd</option>
                    <option value="d/M/y">d/M/y</option>
                    <option value="d-M-y">d-M-y</option>
                    <option value="d.M.y">d.M.y</option>
                    <option value="ddMMy">ddMMy</option>
                    <option value="yyyy.MM.dd">yyyy.MM.dd</option>
                </select>
            </div>*@
        </div>
        <hr/>
        <div class="form-group col-sm-8">
            <label class="col-form-label">Json:</label>
            <code>
                @JsonSerializer.Serialize(Options, new JsonSerializerOptions{ PropertyNamingPolicy = JsonNamingPolicy.CamelCase, })
            </code>
        </div>
    </div>

</div>

@code {

    private DateTime? SampleDate { get; set; } = DateTime.Now.Date.AddDays(-7);
    private AdDatepickerOptions Options { get; set; } = new AdDatepickerOptions();
    private readonly AdDatepickerOptions _elemOptions = new AdDatepickerOptions {InputFormats = new List<string> {"M/d/y"}, OutputFormat = "M/d/y" };

    private void OnTest()
    {
        Console.WriteLine(string.Join("; ", Options.DisabledDayOfWeek.Select(x => x.ToString("G"))));
    }
}
